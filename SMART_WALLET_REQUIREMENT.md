# üîê Smart Wallet Requirement for Gas-Free Transactions

## –ü—Ä–æ–±–ª–µ–º–∞

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—Å—ë –µ—â—ë –ø–ª–∞—Ç–Ω—ã–µ ($0.07), –¥–∞–∂–µ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Paymaster.

## –ü—Ä–∏—á–∏–Ω–∞

**Paymaster —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ Smart Wallets (ERC-4337), –∞ –Ω–µ —Å –æ–±—ã—á–Ω—ã–º–∏ EOA –∫–æ—à–µ–ª—å–∫–∞–º–∏.**

### –ß—Ç–æ —Ç–∞–∫–æ–µ Smart Wallet?

Smart Wallet - —ç—Ç–æ –∫–æ—à–µ–ª–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (ERC-4337 Account Abstraction), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- ‚úÖ **Gas sponsorship** (Paymaster) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ **Batch transactions** - –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ **Social recovery** - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—Ä—É–∑–µ–π
- ‚úÖ **Passkey authentication** - –≤—Ö–æ–¥ –±–µ–∑ seed phrase

### –ß—Ç–æ —Ç–∞–∫–æ–µ EOA Wallet?

EOA (Externally Owned Account) - —ç—Ç–æ –æ–±—ã—á–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–ª—é—á–æ–º:
- ‚ùå **–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Paymaster** - –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–∏—Ç gas
- ‚ùå **–ù–µ—Ç batch transactions**
- ‚ùå **–ù–µ—Ç social recovery**
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã: MetaMask, Zerion, Trust Wallet, Ledger

---

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Coinbase Smart Wallet (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

1. –°–∫–∞—á–∞–π [Coinbase Wallet](https://www.coinbase.com/wallet) –∏–ª–∏ [Base App](https://base.app/)
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Smart Wallet (—Å Passkey)
3. –ü–æ–¥–∫–ª—é—á–∏ Smart Wallet –∫ –∏–≥—Ä–µ
4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç **–±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏** (0 ETH)!

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Passkey (–±–µ–∑ seed phrase)
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Base
- ‚úÖ –õ—É—á—à–∏–π UX –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å EOA Wallet

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å MetaMask, Zerion –∏ —Ç.–¥.:**

- ‚ö†Ô∏è –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç **–ø–ª–∞—Ç–Ω—ã–º–∏** (~$0.07)
- ‚ö†Ô∏è Paymaster **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** —Å EOA
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–ª–æ–∫—á–µ–π–Ω
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –∫–æ—à–µ–ª–µ–∫

---

## –ö–∞–∫ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¢–∏–ø –ö–æ—à–µ–ª—å–∫–∞?

### Smart Wallet:
- –°–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ Coinbase Wallet / Base App
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Passkey –¥–ª—è –≤—Ö–æ–¥–∞
- –ê–¥—Ä–µ—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `0x...` (–∫–∞–∫ –∏ EOA)
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Ω–∞–ø–∏—Å–∞–Ω–æ "Smart Wallet"

### EOA Wallet:
- MetaMask, Zerion, Trust Wallet, Ledger
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç seed phrase (12/24 —Å–ª–æ–≤–∞)
- –ê–¥—Ä–µ—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `0x...`
- –û–±—ã—á–Ω—ã–π –∫–æ—à–µ–ª–µ–∫

---

## –ß—Ç–æ –ú—ã –°–¥–µ–ª–∞–ª–∏ –≤ –ö–æ–¥–µ

### 1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¢–∏–ø–∞ –ö–æ—à–µ–ª—å–∫–∞

```typescript
// –í SaveProgressButton.tsx
const { connector } = useAccount();

const isSmartWallet = connector?.name?.toLowerCase().includes('coinbase') || 
                      connector?.name?.toLowerCase().includes('smart');
```

### 2. –£—Å–ª–æ–≤–Ω—ã–π Paymaster

```typescript
// Paymaster —Ç–æ–ª—å–∫–æ –¥–ª—è Smart Wallet
capabilities={isSmartWallet && paymasterUrl ? {
  paymasterService: {
    url: paymasterUrl,
  },
} : undefined}
```

### 3. –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è EOA

```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–ª—è EOA –∫–æ—à–µ–ª—å–∫–æ–≤
{!isSmartWallet && (
  <p className="smart-wallet-info">
    üí° For gas-free transactions, use Coinbase Smart Wallet
  </p>
)}
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É Paymaster –ù–µ –†–∞–±–æ—Ç–∞–µ—Ç —Å EOA?

1. **ERC-4337 Standard**
   - Paymaster - —ç—Ç–æ —á–∞—Å—Ç—å ERC-4337 (Account Abstraction)
   - EOA –∫–æ—à–µ–ª—å–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç ERC-4337
   - –¢–æ–ª—å–∫–æ Smart Wallets –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç ERC-4337

2. **UserOperation vs Transaction**
   - Smart Wallet –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `UserOperation` (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Paymaster)
   - EOA –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ã—á–Ω—É—é `Transaction` (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Paymaster)

3. **Bundler Requirement**
   - Paymaster —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Bundler (ERC-4337)
   - EOA –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bundler
   - –¢–æ–ª—å–∫–æ Smart Wallet –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bundler

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ERC-4337

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Smart Wallet  ‚îÇ ‚îÄ‚îÄ> UserOperation ‚îÄ‚îÄ> Bundler ‚îÄ‚îÄ> Paymaster ‚îÄ‚îÄ> Blockchain
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                      ‚Üì
                                                    (Sponsors Gas)

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   EOA Wallet    ‚îÇ ‚îÄ‚îÄ> Transaction ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> Blockchain
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                      ‚Üì
                                                    (User Pays Gas)
```

---

## FAQ

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å Paymaster –¥–ª—è EOA?

**A:** –ù–µ—Ç. –≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. Paymaster - —ç—Ç–æ —á–∞—Å—Ç—å ERC-4337, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è EOA.

### Q: –ü–æ—á–µ–º—É OnchainKit –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É?

**A:** OnchainKit –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Paymaster, –Ω–æ –µ—Å–ª–∏ –∫–æ—à–µ–ª–µ–∫ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ERC-4337, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç Paymaster –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å EOA –≤ Smart Wallet?

**A:** –ù–µ—Ç. –≠—Ç–æ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∞–∫–∫–∞—É–Ω—Ç–æ–≤. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Smart Wallet –∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞.

### Q: –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Paymaster —Ä–∞–±–æ—Ç–∞–µ—Ç?

**A:** 
1. –ò—Å–ø–æ–ª—å–∑—É–π Coinbase Smart Wallet
2. –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏: `Is Smart Wallet: true`
3. –ü—Ä–æ–≤–µ—Ä—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é: Network Fee –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å $0.00

### Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —É –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤ EOA?

**A:**
1. –°–æ–∑–¥–∞–π Smart Wallet
2. –ü–µ—Ä–µ–≤–µ–¥–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏–∑ EOA –≤ Smart Wallet
3. –ò—Å–ø–æ–ª—å–∑—É–π Smart Wallet –¥–ª—è –∏–≥—Ä—ã (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –î–ª—è –ù–æ–≤—ã—Ö –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π Coinbase Smart Wallet**
- –°–∫–∞—á–∞–π Base App –∏–ª–∏ Coinbase Wallet
- –°–æ–∑–¥–∞–π Smart Wallet —Å Passkey
- –ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏!

### –î–ª—è –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å EOA:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–∫–ª—é—á–∏—Å—å –Ω–∞ Smart Wallet**
- –°–æ–∑–¥–∞–π Smart Wallet
- –ü–µ—Ä–µ–≤–µ–¥–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞
- –ü–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–¥–æ–ª–∂–∞–π —Å EOA**
- –ü–ª–∞—Ç–∏ ~$0.07 –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ú–æ–∂–µ—à—å –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ–∑–∂–µ

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Paymaster = Smart Wallet Only**

–≠—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å ERC-4337. –î–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω—É–∂–µ–Ω Smart Wallet. EOA –∫–æ—à–µ–ª—å–∫–∏ –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –ø–ª–∞—Ç–∏—Ç—å gas.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Coinbase Smart Wallet** –∏–ª–∏ **Base App** –¥–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞! üöÄ
